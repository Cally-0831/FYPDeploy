<table class="table is-bordered is-striped is-hoverable is-fullwidth">
    <th>SID</th>
    <th>Student Name</th>
    <th>Topic</th>


    <% thatstudent.forEach( function(thatstudent) { %>

        <tr>
            <td>
                <%= thatstudent.sid %>
            </td>


            <td>
                <%= thatstudent.stdname %>
            </td>
            <td>
                <%= thatstudent.Topic%>
            </td>

        </tr>

        <% }); %>

</table>

<form action="/user/liststudent/read/:sid" method="post" onsubmit="submitform(this);return false;">
    <button type="submit is-success">Delete</button>
</form>

<script>
    async function submitform(formElem) {
        try {
           
            var response = await fetch(formElem.action, {
                method: formElem.method,
                body: new FormData(formElem),
            });
            if (response.ok) {
                
                alert("deleted");
                location.assign("/liststudent");

            } else if (response.status == 401) {
                var msg = await response.json();
                alert(msg);
            } else {
                alert(response.statusTest);
            }

        } catch (error) {
            console.log(error);
        }
    }
</script>