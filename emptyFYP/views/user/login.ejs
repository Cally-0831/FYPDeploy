<!---
    <div class="navbar" >
        <a class="navbar-Logo" href="/">
            <img src="\images\login\compbg.png" width=150 height =50>
        </a>
    </div>
    -->

<div class="welcome">Welcome to FYP Schdeuling System</div>
<br><br>
<div>
    <button class="button" id="autoinputsup" onclick="inputsup()">SUPER1</button>
    <button class="button" id="autoinputsup" onclick="inputsup2()">SUPER2</button>
    <button class="button" id="autoinputstd" onclick="inputstd()">Apple</button>
    <button class="button" id="autoinputstd" onclick="inputstd2()">Cathy</button>
    <button class="button" id="autoinputstd" onclick="inputstd3()">Emily</button>
    <button class="button" id="autoinputadm" onclick="inputadm()">Admin</button>
</div>

<br><br>

<div class="columns is-centered column-big ">
    <div class="column">
        <div class="rows">
            <div class="row">
                <div class="title is-3">Login</div>
            </div>
            <div class="row">&nbsp;</div>
            <div class="row">
                <form action="/user/login" method="post" onsubmit="submitform(this);return false;">
                    <label for="username" class="subtitle is-4">Username:&nbsp;&nbsp;</label>
                    <input type="text" class="input is-rounded is-half" style="width :500px"
                        placeholder="Enter Username (SID/TID)" id="username" name="username" value=""><br>
                    <br>
                    <label for="pw" class="subtitle is-4">Password:&nbsp;&nbsp;&nbsp;</label>
                    <input type="password" class="input is-rounded is-half" style="width :500px"
                        placeholder="Enter Password" id="pw" name="pw" value=""><br><br>
                    <button class="button" type="submit is-success">Login</button>
                </form>

            </div>
        </div>


    </div>



</div>



<script>
    async function submitform(formElem) {
        try {
            var response = await fetch(formElem.action, {
                method: formElem.method,
                body: new FormData(formElem),
            });
            if (response.ok) {
                const user = await response.json();
                console.log(user.allusersname);
                //alert("Welcom back, " + user.allusersname);
                location.assign("/home");

            } else if (response.status == 401) {
                var msg = await response.json();
                alert(msg);
            } else {
                alert(response.statusTest);
            }

        } catch (error) {
            console.log(error);
        }
    }

    function inputstd() {
        document.getElementById("username").value = "sid11111";
        document.getElementById("pw").value = "spw11111";
    }

    function inputstd2() {
        document.getElementById("username").value = "sid33333";
        document.getElementById("pw").value = "spw33333";
    }

    function inputstd3() {
        document.getElementById("username").value = "sid55555";
        document.getElementById("pw").value = "spw55555";
    }

    function inputsup() {
        document.getElementById("username").value = "tid00001";
        document.getElementById("pw").value = "tpw00001";
    }

    function inputsup2() {
        document.getElementById("username").value = "tid00002";
        document.getElementById("pw").value = "tpw00002";
    }

    function inputadm() {
        document.getElementById("username").value = "admin";
        document.getElementById("pw").value = "P@ssw0rd";
    }

</script>