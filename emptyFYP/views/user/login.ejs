
    <!---
    <div class="navbar" >
        <a class="navbar-Logo" href="/">
            <img src="\images\login\compbg.png" width=150 height =50>
        </a>
    </div>
    -->

    <div class="welcome">Welcome to FYP Schdeuling System</div>
   <br><br>
    
       
       <div class = "column-big" >
        <div class="title">Login</div>
        <form  action="/user/login" method="post" onsubmit="submitform(this);return false;">
            <label>Username:&nbsp;&nbsp;</label>
            <input type="text"placeholder="Enter Username (SID/TID)" id="username" name="username" value=""><br>
            <br>
            <label>Password:&nbsp;&nbsp;&nbsp;</label>
            <input type="password"placeholder="Enter Password" id="pw" name="pw" value=""><br><br>
            <button type="submit is-success">Login</button>
          </form> 
          
        </div>
        
    

<script>
 async function submitform(formElem){
try{
    var response = await fetch(formElem.action,{
        method: formElem.method,
        body: new FormData(formElem),
    });
if (response.ok){
    const user = await response.json();
    console.log(user.allusersname);
    alert("Welcom back, "+user.allusersname);
    location.assign("/home");

}else if(response.status ==401){
    var msg = await response.json();
    alert(msg);
}else{
    alert(response.statusTest);
}

}catch(error){
    console.log(error);
}
}
 
</script>