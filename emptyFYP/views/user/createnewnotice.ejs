<div class="Pagetitle">
    Create New Notice
</div>
<div class="buttons">
    <div class="button buttonlogout is-left" onclick="history.back()">
        Back
    </div>

</div>
<br>
<div class="columns is-onethird">
    <div class="column"></div>
    <div class="column column-big is-centered ">
        <br>
        <div class="rows">
            <div class="row">
                <label for="title" style="font-size: 20px;">Notice Title</label>
                <input type="text" id="title" style="width: 100%; height: 30px;" required>

            </div>

            <br>
            <br>

            <div class="row">
                <label for="content" class="content"  style="font-size: 20px;">Content</label>
              
                <textarea id="content" name="content" rows="4" cols="50" style="width:100%" required></textarea>

            </div>
            <br><br>
            <div class="row">
                <div class="buttons is-right">
                    <button class="buttonlogout" onclick="submitform()">Submit</button>
                </div>
            </div>
            <br><br>
        </div>
    </div>
    <div class="column"></div>
</div>

<script>
    async function submitform() {
        const r = confirm("Confirm to create this notice?");
        var stringstring = document.getElementById("content").value;
        stringstring = stringstring.replace(/\n/g, " newline ");
        console.log("!@#$!@#$!@#$!               " + stringstring)
        var requestBody = JSON.stringify({
            title: document.getElementById("title").value,
            content: stringstring,
        });
        if (r) {
            var response = await fetch("/notice/createnewnotice", {
                method: "POST",
                body: requestBody,
            });

            if (response.ok) {

                // var html = await response.text();
                // alert(html);
                alert("Notice Created");
                location.assign("/notice");
            } else {

                alert(response.status + ": " + response.statusText);
            }
        }
    }
</script>